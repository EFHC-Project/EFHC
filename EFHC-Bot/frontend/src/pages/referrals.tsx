/**
======================================================================
== EFHC Bot WebApp — рефералы                                         ==
======================================================================
Назначение: выводит активных и неактивных рефералов; бонусы начисляет банк на сервере.
Инварианты: активен после первой покупки панели; клиент не меняет статусы и не начисляет бонусы.
ИИ-защита: безопасный вывод двух списков, даже если один из них пуст.
Запреты: нет P2P, нет денежных операций на клиенте.
======================================================================
*/
import { useEffect, useState } from "react";

import ReferralsTabs from "../components/ReferralsTabs";
import { ApiClient, ReferralStat } from "../lib/api";

const api = new ApiClient();

function ReferralsPage() {
  const [refs, setRefs] = useState<ReferralStat[]>([]);

  useEffect(() => {
    api.getReferrals().then(setRefs);
  }, []);

  return (
    <main>
      <ReferralsTabs referrals={refs} />
    </main>
  );
}

export default ReferralsPage;

// ======================================================================
// Пояснения «для чайника»:
//   • Активность рассчитывается на сервере (после покупки панели), клиент только показывает флаг.
//   • Бонусы начисляет банк EFHC через серверные сервисы, не UI.
//   • При отсутствии рефералов отображаем дружелюбные сообщения.
// ======================================================================
