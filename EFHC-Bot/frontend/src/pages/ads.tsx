/**
======================================================================
== EFHC Bot WebApp — реклама                                          ==
======================================================================
Назначение: выводит рекламные кампании; просмотры/оплата фиксируются сервером.
Инварианты: клиент не считает показы и не списывает EFHC; только отображение CTA.
ИИ-защита: при отсутствии кампаний показывает пустое сообщение.
Запреты: нет денежных операций, нет P2P.
======================================================================
*/
import { useEffect, useState } from "react";

import AdsBanner from "../components/AdsBanner";
import { ApiClient, AdsBannerView } from "../lib/api";

const api = new ApiClient();

function AdsPage() {
  const [ads, setAds] = useState<AdsBannerView[]>([]);

  useEffect(() => {
    api.getAds().then(setAds);
  }, []);

  return (
    <main>
      <h2>Реклама</h2>
      {ads.length ? (
        ads.map((item) => (
          <AdsBanner key={item.id} id={item.id} title={item.title} cta={item.cta} />
        ))
      ) : (
        <p>Активных кампаний нет.</p>
      )}
    </main>
  );
}

export default AdsPage;

// ======================================================================
// Пояснения «для чайника»:
//   • Баннеры только показываются; метрики считает сервер.
//   • Денежные операции (если есть) проходят через серверные сервисы ads.
//   • UI устойчив к пустым данным и сетевым ошибкам.
// ======================================================================
